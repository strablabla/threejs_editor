<!DOCTYPE html>
<html lang="en"><head>
<meta http-equiv="content-type" content="text/html; charset=UTF-8">

<meta http-equiv='cache-control' content='no-cache'>
<meta http-equiv='expires' content='0'>
<meta http-equiv='pragma' content='no-cache'>

		<title>Moving the walls</title>
		<meta charset="utf-8">
		<meta name="viewport" content="width=device-width, user-scalable=no, minimum-scale=1.0, maximum-scale=1.0">

	</head>

	<body>

		<link href="https://fonts.googleapis.com/css?family=Lato:400,700" rel="stylesheet">
		<link rel="stylesheet" href="/static/css/reset.css"> <!-- CSS reset -->
		<link rel="stylesheet" href="/static/css/style.css"> <!-- Resource style -->

		<!-- moving walls -->
		<link rel="stylesheet" href="/static/css/moving_walls.css">

    <!-- socket.io -->
    <script src="//cdnjs.cloudflare.com/ajax/libs/socket.io/1.3.5/socket.io.min.js"></script>

		<!-- time -->
		<script src="/static/js/moment.min.js"></script>

		<!-- Three.js -->
		<script src="/static/js/simple_flat/three.js"></script>
		<!-- <script src="https://cdnjs.cloudflare.com/ajax/libs/three.js/89/three.js"></script> -->
		<!-- <script src="https://cdnjs.cloudflare.com/ajax/libs/three.js/102/three.js"></script> -->
		<!-- <script src="https://cdnjs.cloudflare.com/ajax/libs/three.js/90/three.js"></script> -->
		<!-- <script src="https://cdnjs.cloudflare.com/ajax/libs/three.js/80/three.js"></script> -->
		<script src="https://cdnjs.cloudflare.com/ajax/libs/three.js/r75/three.js"></script>

		<!-- <script src="/static/js/simple_flat/TrackballControls.js"></script> -->
		<script src='https://rawgit.com/YaleDHLab/pix-plot/master/assets/js/trackball-controls.js'></script>
		<script type="/static/js/point_locker.js"></script>
		<script src="/static/js/simple_flat/stats.js"></script>
		<script src="/static/js/basic_objects.js"></script>
		<script src="/static/js/make_objects.js"></script>
		<script src="/static/js/mouse_interact.js" ></script>

		<script src="/static/js/keys.js" defer></script>

		<!-- jquery -->
		<script src="/static/js/jquery.min.js"></script>
		<!-- jquery-ui -->
		<script src="/static/js/jquery-ui.js"></script>

		<!-- bootstrap -->
		<script src="/static/js/bootstrap.min.js"></script>
		<link rel="stylesheet" href="/static/css/bootstrap.min.css">

		<!-- Dropzone -->

		<script src="/static/js/dropzone.js"></script>
		<script src="/static/js/manage_drop.js"></script>
		<link rel="stylesheet" href="/static/css/dropzone.css">

		<script src="/static/js/init_scene.js"></script>
		<script src="/static/js/interface_actions.js"></script>

		<script>

		var container, stats;
		var camera, controls, scene, projector, renderer;
		var objects = [], plane;
		var new_wall_ok = false;  		    // create a new object witht the mouse
		var new_cube_texture_ok = false
		var select_obj = false;             // select multiple objects.
		var make_plane = false;             // make a plane
		var selpos = [];
		var select_poscam = false; 			    // change camera position with mouse
		var list_obj_inside = [];  					// list of the objects inside the area..
		var select_picking = false;         // picking the object fr future action..
		var infos_in_place = false;
		select_obj_infos = false;
		select_move_group = false;
		select_traj = false;   							// object trajectory.. 
		list_blocked = []
		dict_pos_relat = {}

		nearest_elem = null;
		//------------------- Colors

		var pale_blue0 = 0xccf5ff;
		var orange_medium = 0xffddcc;

		//------------------------

		var blocker = document.getElementById( 'blocker' );
		var instructions = document.getElementById( 'instructions' );

		//------------------------- Graphical objects

		var mouse = new THREE.Vector2(),
		offset = new THREE.Vector3(),
		INTERSECTED, SELECTED, LAST_SELECTED;          // interaction with mouse..

		//------------------------- Socket communication

		namespace = '/pos'; // change to an empty string to use the global namespace
		var socket = io.connect('http://' + document.domain + ':' + location.port + namespace);

		init();
		animate();
		//ptlock()

		function animate() {
			requestAnimationFrame( animate );
			render();
		}

		function render() {
			controls.update();
			renderer.render( scene, camera );
		}

		</script>

		{% include 'interface.html' %}

		<script> init_interf_actions() </script>

		</body>
</html>
